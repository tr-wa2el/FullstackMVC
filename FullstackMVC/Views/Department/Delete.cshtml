@model Department

@{
    ViewData["Title"] = "Delete Department";
}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
  <div class="card shadow border-danger">
  <div class="card-header bg-danger text-white">
      <h3 class="mb-0">
     <i class="bi bi-trash"></i> Delete Department
         </h3>
           </div>
   <div class="card-body">
         @if (TempData["ErrorMessage"] != null)
           {
<div class="alert alert-danger alert-dismissible fade show" role="alert">
          <i class="bi bi-exclamation-triangle"></i> @TempData["ErrorMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
       </div>
       }

         <div class="alert alert-warning">
             <i class="bi bi-exclamation-triangle"></i>
      <strong>Warning:</strong> Are you sure you want to delete this department?
  </div>

         <div class="card mb-4">
  <div class="card-body">
<h5 class="card-title text-danger">Department Information</h5>
          <table class="table table-borderless">
        <tr>
      <th width="30%">Department Name:</th>
       <td><strong>@Model.Name</strong></td>
  </tr>
     <tr>
       <th>Manager:</th>
             <td>@(Model.ManagerName ?? "N/A")</td>
                    </tr>
          <tr>
  <th>Location:</th>
            <td>@(Model.Location ?? "N/A")</td>
        </tr>
   <tr>
     <th>Number of PCs:</th>
           <td>@(Model.PcNumbers ?? 0)</td>
    </tr>
      </table>
   </div>
      </div>

   @if (Model.Employees?.Any() == true || Model.Students?.Any() == true || 
             Model.Instructors?.Any() == true || Model.Courses?.Any() == true)
        {
      <div class="alert alert-info">
         <h6><i class="bi bi-info-circle"></i> Related Records:</h6>
  <ul class="mb-0">
 @if (Model.Employees?.Any() == true)
            {
      <li><strong>Employees:</strong> @Model.Employees.Count() employee(s)</li>
            }
          @if (Model.Students?.Any() == true)
     {
      <li><strong>Students:</strong> @Model.Students.Count() student(s)</li>
           }
      @if (Model.Instructors?.Any() == true)
           {
          <li><strong>Instructors:</strong> @Model.Instructors.Count() instructor(s)</li>
             }
         @if (Model.Courses?.Any() == true)
    {
    <li><strong>Courses:</strong> @Model.Courses.Count() course(s)</li>
      }
 </ul>
      <p class="mt-2 mb-0 text-danger">
     <small><i class="bi bi-exclamation-circle"></i> You cannot delete this department until all related records are removed or reassigned.</small>
   </p>
             </div>
          }

            <form asp-action="Delete" method="post">
   <input type="hidden" asp-for="Id" />
          <div class="d-flex justify-content-between mt-4">
 <a asp-action="GetAll" class="btn btn-secondary">
        <i class="bi bi-arrow-left"></i> Cancel
       </a>
 <button type="submit" class="btn btn-danger">
   <i class="bi bi-trash"></i> Confirm Delete
         </button>
   </div>
    </form>
     </div>
      </div>
     </div>
    </div>
</div>
