@model FullstackMVC.Models.Instructor

@{
    ViewData["Title"] = "Edit Profile";
}

<div class="container mt-5">
    <div class="row justify-content-center">
  <div class="col-md-8">
 <div class="card shadow">
   <div class="card-header bg-warning text-dark">
   <h2 class="mb-0">
   <i class="bi bi-person-gear"></i> Edit My Profile
    </h2>
 </div>
   <div class="card-body">
     <div class="alert alert-info">
       <i class="bi bi-info-circle"></i> 
    <strong>Note:</strong> You can edit your Name, Address, Email, Age, and Degree. 
     Salary, Department, and Course assignments can only be changed by administrators.
  </div>

     <form asp-action="EditProfile" method="post">
    <input type="hidden" asp-for="Id" />
    <input type="hidden" asp-for="Salary" />
      <input type="hidden" asp-for="DeptId" />
      
     <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

        <!-- Read-Only Information -->
      <div class="row mb-4">
    <div class="col-12">
       <h5 class="text-muted mb-3">
<i class="bi bi-lock-fill"></i> Read-Only Information
  </h5>
  </div>
  <div class="col-md-6">
    <label class="form-label">Instructor ID</label>
   <input type="text" class="form-control" value="@Model.Id" readonly />
       </div>
<div class="col-md-6">
     <label class="form-label">Salary</label>
  <input type="text" class="form-control" value="@Model.Salary.ToString("C")" readonly />
  </div>
   <div class="col-md-12 mt-3">
    <label class="form-label">Department</label>
     <input type="text" class="form-control" value="@Model.Department?.Name" readonly />
     </div>
  </div>

  <hr />

      <!-- Editable Information -->
   <div class="row mb-4">
  <div class="col-12">
     <h5 class="text-primary mb-3">
   <i class="bi bi-pencil-fill"></i> Editable Information
 </h5>
       </div>
     
   <div class="col-md-12 mb-3">
     <label asp-for="Name" class="form-label"></label>
 <input asp-for="Name" class="form-control" />
   <span asp-validation-for="Name" class="text-danger"></span>
  </div>

      <div class="col-md-6 mb-3">
     <label asp-for="Email" class="form-label"></label>
 <input asp-for="Email" class="form-control" type="email" />
   <span asp-validation-for="Email" class="text-danger"></span>
    </div>

    <div class="col-md-6 mb-3">
     <label asp-for="Age" class="form-label"></label>
  <input asp-for="Age" class="form-control" type="number" min="25" max="100" />
 <span asp-validation-for="Age" class="text-danger"></span>
    </div>

<div class="col-md-6 mb-3">
   <label asp-for="Degree" class="form-label"></label>
         <select asp-for="Degree" class="form-select">
    <option value="">-- Select Degree --</option>
     <option value="Bachelor">Bachelor</option>
 <option value="Master">Master</option>
       <option value="PhD">PhD</option>
   <option value="Professor">Professor</option>
       </select>
      <span asp-validation-for="Degree" class="text-danger"></span>
        </div>

  <div class="col-md-12 mb-3">
    <label asp-for="Address" class="form-label"></label>
   <textarea asp-for="Address" class="form-control" rows="3" placeholder="Enter your full address"></textarea>
      <span asp-validation-for="Address" class="text-danger"></span>
   </div>
       </div>

        <!-- Teaching Information -->
@if (Model.Courses != null && Model.Courses.Any())
      {
  <div class="row mb-4">
        <div class="col-12">
      <h5 class="text-success mb-3">
      <i class="bi bi-book-half"></i> Teaching Information (Read-Only)
     </h5>
  <div class="card bg-light">
     <div class="card-body">
  <p><strong>Courses Teaching:</strong></p>
     <div class="d-flex flex-wrap gap-2">
   @foreach (var course in Model.Courses)
   {
        <span class="badge bg-success">@course.Name (Code: @course.Num)</span>
   }
    </div>
    </div>
</div>
      </div>
 </div>
     }

       <div class="d-flex gap-2">
        <button type="submit" class="btn btn-warning btn-lg">
    <i class="bi bi-save"></i> Save Changes
       </button>
 <a asp-action="Dashboard" class="btn btn-secondary btn-lg">
 <i class="bi bi-arrow-left"></i> Back to Dashboard
     </a>
     </div>
     </form>
  </div>
     </div>
     </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}