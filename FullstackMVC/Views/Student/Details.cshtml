@model FullstackMVC.Models.Student

@{
    ViewData["Title"] = "Student Details";
}

<div class="container mt-4">
  <h1>Student Details</h1>
  
    <div class="card">
        <div class="card-body">
      <div class="row">
         @if (!string.IsNullOrEmpty(Model.Image))
         {
  <div class="col-md-3">
        <img src="@Model.Image" alt="@Model.Name" class="img-fluid rounded" />
     </div>
 }
     <div class="@(string.IsNullOrEmpty(Model.Image) ? "col-md-12" : "col-md-9")">
      <dl class="row">
             <dt class="col-sm-3">SSN</dt>
           <dd class="col-sm-9">@Model.SSN</dd>

      <dt class="col-sm-3">Name</dt>
        <dd class="col-sm-9">@Model.Name</dd>

     <dt class="col-sm-3">Age</dt>
    <dd class="col-sm-9">@Model.Age</dd>

     <dt class="col-sm-3">Gender</dt>
  <dd class="col-sm-9">@Model.Gender</dd>

       <dt class="col-sm-3">Address</dt>
          <dd class="col-sm-9">@(Model.Address ?? "N/A")</dd>

        <dt class="col-sm-3">Department</dt>
         <dd class="col-sm-9">@(Model.Department?.Name ?? "N/A")</dd>
    </dl>

      @if (Model.Grades != null && Model.Grades.Any())
      {
     <h4 class="mt-4">Courses & Grades</h4>
     <table class="table table-sm table-bordered">
   <thead>
     <tr>
 <th>Course Name</th>
    <th>Grade</th>
              </tr>
     </thead>
  <tbody>
     @foreach (var grade in Model.Grades)
          {
var gradeColor = grade.GradeValue.HasValue && grade.GradeValue.Value < 60 ? "text-danger" : "text-success";
          <tr>
      <td class="@gradeColor fw-bold">@(grade.Course?.Name ?? "N/A")</td>
    <td class="@gradeColor fw-bold">
@(grade.GradeValue?.ToString("F2") ?? "N/A")
   </td>
  </tr>
   }
     </tbody>
   </table>
         }
     </div>
        </div>
        </div>
    </div>

 <div class="mt-3">
   <a asp-action="Edit" asp-route-id="@Model.SSN" class="btn btn-warning">
   <i class="bi bi-pencil"></i> Edit
 </a>
    <a asp-action="Delete" asp-route-id="@Model.SSN" class="btn btn-danger">
      <i class="bi bi-trash"></i> Delete
</a>
 <a asp-action="GetAll" class="btn btn-secondary">
  <i class="bi bi-arrow-left"></i> Back to List
   </a>
    </div>
</div>
